(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{144:function(e,t,a){e.exports=a(354)},149:function(e,t,a){},151:function(e,t,a){},153:function(e,t,a){},155:function(e,t,a){},354:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(53),c=a.n(r),o=a(54),i=a(55),l=a(57),d=a(56),u=a(58),m=(a(149),a(151),a(153),function(e){var t=e.handleChange,a=e.getAddress,n=e.invalidCEP,r=e.isFetching,c=e.cep;return s.a.createElement("section",{className:"address-query"},s.a.createElement("h2",{className:"address-query--title"},"Consulta de endere\xe7o"),s.a.createElement("form",{noValidate:!0,className:"address-query__form",onSubmit:function(e){return a(e)}},s.a.createElement("h4",{className:"address-query__form--title"},"Consultar"),s.a.createElement("label",{className:"address-query__form--label",htmlFor:"cep"},"CEP"),s.a.createElement("input",{pattern:"[0-9]*",inputMode:"numeric",className:"address-query__form--field",onChange:function(e){return t(e)},value:c}),s.a.createElement("button",{className:"address-query__form--btn",disabled:r,type:"submit"},"Buscar"),!!n&&s.a.createElement("small",{className:"address-query__form--invalid"},n)))}),h=(a(155),a(59)),p=Object(h.withGoogleMap)(function(e){var t=e.location;return s.a.createElement(h.GoogleMap,{defaultZoom:15,defaultCenter:t},s.a.createElement(h.Marker,{position:t}))}),f=function(e){var t=e.dataAddress,a=e.location,n=e.closeMap;return s.a.createElement("div",{className:"address-map"},s.a.createElement("h3",{className:"address-map--title"},t.logradouro),s.a.createElement("p",{className:"address-map--detail"},t.bairro),s.a.createElement("p",{className:"address-map--detail"},t.localidade),s.a.createElement("p",{className:"address-map--detail"},t.cep),s.a.createElement("span",{onClick:function(){return n()},className:"address-map--close"},"\u2716"),!!a&&s.a.createElement(p,{location:a,containerElement:s.a.createElement("div",{style:{height:"350px"}}),mapElement:s.a.createElement("div",{style:{height:"100%"}})}))},E=a(143),g=a.n(E),v=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).state={cep:"",dataAddress:null,isFetching:!1,invalidCEP:null,key:"AIzaSyD-Fhb1CPiaJVbWDFhwDyteBkEDM0jyTcs",location:null},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"isCep",value:function(e){return/^[0-9]{5}-[0-9]{3}$/.test(e)}},{key:"closeMap",value:function(){this.setState({location:null})}},{key:"getAddress",value:function(e){var t=this;e.preventDefault();var a=this.state.cep,n="https://viacep.com.br/ws/".concat(a,"/json/?callback=cep");this.setState({isFetching:!0}),this.isCep(a)?g()(n).then(function(e){return e.json()}).then(function(e){return t.setState({invalidCEP:!!e.erro&&"CEP n\xe3o encontrado",dataAddress:e.erro?null:e,isFetching:!e.erro,location:null})}).then(function(){return!t.state.invalidCEP&&t.getLocation()}).catch(function(e){return console.log(e)}):this.setState({isFetching:!1,invalidCEP:"CEP inv\xe1lido"})}},{key:"getLocation",value:function(){var e=this,t=this.state.cep,a=this.state.key,n="https://maps.googleapis.com/maps/api/geocode/json?address=".concat(t,"&key=").concat(a);fetch(n).then(function(e){return e.json()}).then(function(t){return e.setState({location:{lat:parseFloat(t.results[0].geometry.location.lat),lng:parseFloat(t.results[0].geometry.location.lng)}})}).then(function(){return e.setState({isFetching:!1})})}},{key:"handleChange",value:function(e){var t=e.target.value;t=t.replace(/^(\d{5})(\d)/,"$1-$2"),this.setState({cep:t})}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"address-container"},s.a.createElement(m,{handleChange:function(t){return e.handleChange(t)},getAddress:function(t){return e.getAddress(t)},invalidCEP:this.state.invalidCEP,isFetching:this.state.isFetching,cep:this.state.cep}),!!this.state.location&&s.a.createElement(f,{dataAddress:this.state.dataAddress,location:this.state.location,closeMap:function(){return e.closeMap()}}))}}]),t}(n.Component),y=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("main",{className:"container"},s.a.createElement(v,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[144,2,1]]]);
//# sourceMappingURL=main.65913442.chunk.js.map